<!-- blog/templates/blog/list_posts.html -->
<h2>All Blog Posts</h2>
<a href="{% url 'create_post' %}">Create New Post</a>
<table>
    <tr>
        <th>Title</th>
        <th>Tags</th>
        <th>Actions</th>
    </tr>
    {% for post in posts %}
    <tr>
        <td>{{ post.title }}</td>
        <td>
            {% for tag in post.tags.all %}
                {{ tag.name }}{% if not forloop.last %}, {% endif %}
            {% empty %}
                No tags
            {% endfor %}
        </td>
        <td>
            <a href="{% url 'edit_post' post.pk %}">Edit</a> |
            <a href="{% url 'delete_post' post.pk %}">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>

<div>
    {% if posts.has_previous %}
        <a href="?page={{ posts.previous_page_number }}">Previous</a>
    {% endif %}
    <span>Page {{ posts.number }} of {{ posts.paginator.num_pages }}</span>
    {% if posts.has_next %}
        <a href="?page={{ posts.next_page_number }}">Next</a>
    {% endif %}
</div>
